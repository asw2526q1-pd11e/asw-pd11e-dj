{% extends "base.html" %}

{% block title %}Lista de Posts{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold mb-4">Lista de Posts</h1>

{% if posts %}
<div class="posts-list">
    {% for post in posts %}
    <div class="post-card" style="border: 1px solid #ddd; border-radius: 10px; padding: 15px; margin-bottom: 20px; max-width: 700px;">

        {% if post.image %}
        <img src="{{ post.image.url }}" alt="{{ post.title }}" style="width:100%; max-height:400px; object-fit:cover; border-radius:10px; margin-bottom:10px;">
        {% endif %}

        <h2 style="margin: 0; font-size: 1.5em;">
            {{ post.title }}
            {% if post.url %}
            <a href="{{ post.url }}" target="_blank" title="Ver enlace relacionado" style="text-decoration:none; margin-left:8px;">
                ğŸ”—
            </a>
            {% endif %}
        </h2>

        <p style="color: #666; margin-top: 5px;">
            Por <strong>{{ post.author }}</strong> â€”
            <em>{{ post.published_date|date:"d M Y, H:i" }}</em>
        </p>

        <p style="margin-top: 10px;">{{ post.content }}</p>

        <p style="margin-top: 10px;">
            ğŸ‘ <strong>{{ post.votes }}</strong> votos
        </p>

    </div>
    {% endfor %}
</div>
{% else %}
<p>No hay posts disponibles.</p>
{% endif %}

<p>
    <a href="{% url 'blog:post_create' %}" class="btn btn-primary">Crear un nuevo Post</a>
</p>
{% endblock %}
